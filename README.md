# andrew-points

mini economy for lodge

## features

- [x] discord oauth
- [x] redeem page
- [x] transaction ledger
- [x] bounty page
  - create bounty interface
  - list bounty page
  - complete bounty interface
- [x] cron jobs to check for expiration of objects
  - need to set up docker compose, image with multiple entrypoints, and db in volume
- [x] marketplace page
  - create listing interface
  - listings page
  - buy listing interface
- [ ] trade page (to be determined, could result in large coalescing of points)
  - [ ] create trade page
- [x] earn page
  - [x] create some menial task that ties points to physical work
    - free tier hCaptcha
    - earn session creation and timed expiry
    - randomized puzzle timing
  - [ ] potential improvements
    - [ ] send a video of you doing a pushup/jumping jack
    - [ ] do one random task of my choosing
    - [ ] Quicktime events
    - [ ] talk to me for 5 minutes straight, uninterrupted
    - [ ] tell me a joke, get points if its good, lose points if its bad
- [x] statistics page
  - recent activity
  - leaderboard
  - [ ] total points in circulation
- [x] ledgerEntry reworks
  - remove `type` column, integrate into `note` column
  - add bountyId and offerId columns
- [x] user/home page & notifications
  - display user's points
  - display user's activity/ledger
  - link home page to your user page
    - display your tasks
      - scan for offers in "pending" state with your userId as buyerId
      - confirm/dispute offers for buyer
    - admin options
      - [ ] ban / timeout discord users
      - create custom ledger entries
      - admin tasks
        - approve/deny bounty submissions
          - scan for bounties with rejected: false
        - examine offer disputes
          - scan for offers in "disputed" state
- [x] discord bot
  - hook into guild, get display names for lodge discord
  - create function for creating notifications, notification types
  - call in appropriate places (bounty created, offer bought, etc.)
  - PM users for private notifications
  - #points channel for announcements
- [x] misc stuff
  - pages for viewing completed offers and bounties
  - link to these in discord notifs
  - notification table, combine website notifications with discord private messages
  - task for offer sellers to confirm that they have given goods (?)
  - create final design for app bar layout
    - decide where notifications will be and how they will work
- [ ] style pages
  - prioritizing mobile view
  - daisyui.com
  - notifications will be displayed in app bar
  - notifications point to offer/bounty pages, where tasks will reside
- [ ] logger with file transport
- [ ] extract discord client to separate process, or convert cron processes to endpoint
